<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Outbound Clipboard Manager</title>
  <link rel="icon" type="image/x-icon" href="https://joshua-reeve.github.io/OCM/favicon.ico">
  <body style="background-color: #ffffff;">

<style>

body, html {
  font-family: Arial, Helvetica, sans-serif;
}
  .button-container {
    display: flex;
    align-items: center;
    margin: 0px 0;
    border: 0px solid #ccc;
    padding: 0px;
    background-color: 8fd4ff;
    width: fit-content;
  }
  .button-container:hover {
    background-color: 8fd4ff;
  }
.copy-box {
  border: 0px solid #ccc;
  padding: 5px;
  margin: 5px;
  border-radius: 5px;
  width: 350px;
  cursor: pointer;
  background-color: DodgerBlue;
  box-shadow: 0 4px 16px rgba(0,0,0,0.1);
  text-align: center;
  font-family: sans-serif;
  transition: transform 0.0s ease, background-color 0.0s ease;
}
.copy-box:active {
  transform: scale(0.95);
  background-color: #1e90ff;
}
  .copy-box:hover {
    background-color: DeepSkyBlue;
  }
  .delete-button {
    background-color: #FFE4E1;
	box-shadow: 0 4px 16px rgba(0,0,0,0.1);
    color: black;
    border: none;
    padding: 5px;
    cursor: pointer;
    font-size: 14px;
    margin-left: 5px;
  }
  .edit-button {
    background-color: #EEE8AA;
	box-shadow: 0 4px 16px rgba(0,0,0,0.1);
    color: black;
    border: none;
    padding: 5px;
    cursor: pointer;
    font-size: 14px;
    margin-left: 5px;
  }
  .delete-button:hover {
    background-color: #FFC0CB;
  }
  .edit-button:hover {
    background-color: #BDB76B;
  }

  form {
    margin-bottom: 0px;
  }
  input[type="text"] {
    width: 80%;
    padding: 5px;
    margin-right: 10px;
  }
  button {
    padding: 5px 10px;
    cursor: pointer;
  }
textarea {
    width: 80%;
    height: 100px;
    padding: 5px;
    margin-right: 10px;
    resize: vertical;
    font-family: sans-serif;
  }
  .btn {
  font-size: 20px;
  padding: 10px 20px;
  margin: 5px;
  cursor: pointer;
  border: none;
  border-radius: 5px;
  }

  .drag-over {
  background-color: #f0f0f0;
  }
  .preview {
    position: absolute;
    background-color: #ffffff;
    border: 1px solid #ccc;
    padding: 5px;
    display: none;
    z-index: 1000;
  }

.squircle-foreground {
  background-color: #8fd4ff;
  padding: 20px;
  border-radius: 10px;
  box-shadow: 0 4px 16px rgba(0,0,0,0.1);
  max-width: 600px;
  margin: 0 auto;
}

.squircle-background {
  background-color: #ccecff;
  padding: 20px;
  border-radius: 10px;
  box-shadow: 0 4px 16px rgba(0,0,0,0.1);
  max-width: 600px;
  margin: 0 auto;
}
 .phone-modal-foreground {
  background-color: #A5D6A7;
  padding: 5px;
  border-radius: 10px;
  box-shadow: 0 4px 16px rgba(0,0,0,0.1);
  max-width: 600px;
  margin: 0 auto;
}
.danger {
  background-color: #ffdddd;
  border-left: 6px solid #f44336;
  box-shadow: 0 4px 16px rgba(0,0,0,0.1);
  margin-bottom: 15px;
  border-radius: 5px;
  padding: 4px 12px;
}
.success {
  background-color: #ddffdd;
  border-left: 6px solid #04AA6D;
  box-shadow: 0 4px 16px rgba(0,0,0,0.1);
  margin-bottom: 15px;
  border-radius: 5px;
  padding: 4px 12px;
}
.info {
  background-color: #e7f3fe;
  border-left: 6px solid #2196F3;
  box-shadow: 0 4px 16px rgba(0,0,0,0.1);
  margin-bottom: 15px;
  border-radius: 5px;
  padding: 4px 12px;
}
.warning {
  background-color: #ffffcc;
  border-left: 6px solid #ffeb3b;
  box-shadow: 0 4px 16px rgba(0,0,0,0.1);
  margin-bottom: 15px;
  border-radius: 5px;
  padding: 4px 12px;
}
.webtext {
  background-color: #edebf5;
  border-left: 6px solid #604be8;
  box-shadow: 0 4px 16px rgba(0,0,0,0.1);
  margin-bottom: 15px;
  border-radius: 5px;
  padding: 4px 12px;
}

#mySidenav {
  position: fixed;
  top: 200px;
  right: 0;
  z-index: 999;
}

#mySidenav a {
  position: fixed;
  right: -165px; /* Start hidden on the right */
  transition: 0.3s; /* Smooth sliding effect */
  padding: 15px;
  width: 180px; /* Adjust width for icons and text */
  text-decoration: none; /* Remove underline */
  font-size: 18px; /* Font size for text */
  color: white; /* Text color */
  border-radius: 5px 0 0 5px; /* Rounded corners on the left */
  display: flex; /* Use flexbox for alignment */
  align-items: center; /* Vertically align icon and text */
  gap: 10px; /* Add space between the icon and text */
}

#mySidenav a:hover {
  right: 0;
}

#richText {
  top: 60px;
  background-color: #FFD600;
}

#todoList {
  top: 120px;
  background-color: #2196F3;
}

#phoneNumbers {
  top: 120px;
  background-color: #04AA6D;
  font-size: 12px;
}
.material-icons {
  font-size: 24px;
  color: white;
}
.modal {
  display: none;
  position: fixed;
  z-index: 1000;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  overflow: auto;
  background-color: rgba(0, 0, 0, 0.5);
}
.modal-content {
  background-color: white;
  position: absolute;
  top: 50%;
  right: -100%;
  transform: translateY(-50%);
  padding: 20px;
  border: 0px solid #888;
  width: 85%;
  max-width: 500px;
  max-height: 90vh;
  overflow-y: auto;
  border-radius: 10px;
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2);
  animation: slide-in 0.5s forwards; /* Trigger slide-in animation */
}


@keyframes slide-in {
  from {
    right: -100%;
  }
  to {
    right: 0;
  }
}

@keyframes slide-out {
  from {
    right: 0; 
  }
  to {
    right: -100%;
  }
}

@media screen and (max-width: 400px) {
  .modal-content {
    width: 90%;
    min-width: unset;
  }
}

.close {
  color: #aaa;
  float: right;
  font-size: 28px;
  font-weight: bold;
  cursor: pointer;
}

.close:hover,
.close:focus {
  color: black;
  text-decoration: none;
}


.rich-text-area {
  width: 90%; /* Adjust width as needed */
  margin: 0 auto; 
  height: 150px; 
  padding: 10px;
  font-family: Arial, sans-serif;
  font-size: 16px;
  border: 1px solid #ccc;
  border-radius: 5px;
  display: block;
}

.todo-list {
  list-style-type: none;
  padding: 0;
}

.todo-list li {
  display: flex;
  align-items: center;
  margin-bottom: 10px;
}

.todo-input {
  width: calc(100% - 30px);
  padding: 5px;
  font-size: 16px;
}

.todo-list-item {
  flex-grow: 1;
}

.todo-list-item.completed {
  text-decoration: line-through;
  color: gray;
}

.todo-delete {
  background-color: #f44336;
  color: white;
  border: none;
  padding: 5px;
  cursor: pointer;
  margin-left: 10px;
  border-radius: 3px;
}

.todo-delete:hover {
  background-color: #d32f2f;
}

.phone-numbers-list {
  list-style-type: none;
  padding: 0;
}
.topnav {
  background-color: #6495ED;
  position: fixed;
  top: 0;
  width: 100%;
  z-index: 1000;
}

.topnav a {
  float: left;
  display: block;
  color: #000000;
  text-align: center;
  padding: 5px 5px;
  text-decoration: none;
  font-size: 15px;
}

.active {
  background-color: #04AA6D;
  color: white;
}

.topnav .icon {
  display: none;
}

.dropdown {
  float: left;
  overflow: hidden;
}

.dropdown .dropbtn {
  font-size: 15px;    
  border: none;
  outline: none;
  color: black;
  padding: 5px 5px;
  background-color: inherit;
  font-family: inherit;
  margin: 0;
}

.dropdown-content {
  display: none;
  position: absolute;
  background-color: #f9f9f9;
  min-width: 160px;
  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
  z-index: 1;
}

.dropdown-content a {
  float: none;
  color: black;
  padding: 5px 5px;
  text-decoration: none;
  display: block;
  text-align: left;
}

.topnav a:hover, .dropdown:hover .dropbtn {
  background-color: #6495ED;
  color: white;
}

.dropdown-content a:hover {
  background-color: #ddd;
  color: black;
}

.dropdown:hover .dropdown-content {
  display: block;
}

@media screen and (max-width: 5px) {
  .topnav a:not(:first-child), .dropdown .dropbtn {
    display: none;
  }
  .topnav a.icon {
    float: right;
    display: block;
  }
}

@media screen and (max-width: 5px) {
  .topnav.responsive {position: relative;}
  .topnav.responsive .icon {
    position: absolute;
    right: 0;
    top: 0;
  }
  .topnav.responsive a {
    float: none;
    display: block;
    text-align: left;
  }
  .topnav.responsive .dropdown {float: none;}
  .topnav.responsive .dropdown-content {position: relative;}
  .topnav.responsive .dropdown .dropbtn {
    display: block;
    width: 100%;
    text-align: left;
  }
</style>

  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

<head>
<body>
<div class="topnav" id="myTopnav">
  <a href="#Custom Buttons">Custom Buttons</a>
  <a href="#Appt Notes">Appt Notes</a>
  <a href="#Email">Email</a>
  <div class="dropdown">
    <button class="dropbtn">Initiativesโพ 
      <i class="fa fa-caret-down"></i>
    </button>
    <div class="dropdown-content">
      <a href="#PT Wait List">PT Wait List</a>
    </div>
  </div>
  <div class="dropdown">
    <button class="dropbtn">SMSโพ 
      <i class="fa fa-caret-down"></i>
    </button>
    <div class="dropdown-content">
      <a href="#Bump Text SMS Messages">Bump Text SMS Messages</a>
      <a href="#Virtual Visit Change Texts">Virtual Visit Change Texts</a>
      <a href="#COVID InPatient Texts">COVID InPatient Texts</a>
      <a href="#RX Texts">RX Texts</a>
      <a href="#Web Scheduled Visit Texts">Web Scheduled Visit Texts</a>
      <a href="#Misc Texts and Responses">Misc Texts and Responses</a>
      <a href="#SMS PT Wait List">PT Wait List</a>
      <a href="#Inpatient Follow Up">Inpatient Follow Up</a>
      <a href="#Kidney Non Compliant">Kidney Non Compliant</a>
    </div>
  </div>
  <div class="dropdown">
    <button class="dropbtn">Utilities โพ
      <i class="fa fa-caret-down"></i>
    </button>
    <div class="dropdown-content">
      <a href="#Sleep Test Follow-up Calculator">Sleep Test Follow-up Calculator</a>
    </div>
  </div>
  <a href="#About">About</a>
  <a href="#Settings">Settings</a>
  <a href="javascript:void(0);" style="font-size:15px;" class="icon" onclick="myFunction()">&#9776;</a>
</div>
<script>
function myFunction() {
  var x = document.getElementById("myTopnav");
  if (x.className === "topnav") {
    x.className += " responsive";
  } else {
    x.className = "topnav";
  }
}
</script>
<div id="mySidenav" class="sidenav">
  <a href="#" id="richText" onclick="openModal('stickyNoteModal', '#FFFDE7')">
   <span class="material-icons">sticky_note_2</span> Notes
  </a>  
  <a href="#" id="phoneNumbers" onclick="openModal('phoneNumbersModal', '#E8F5E9')">
    <span class="material-icons">phone</span> Phone Numbers
  </a>
</div>

<div id="stickyNoteModal" class="modal">
  <div class="modal-content">
    <span class="close" onclick="closeModal('stickyNoteModal')">&times;</span>
    <h2>Notes:</h2>
    <textarea id="stickyNote" class="rich-text-area" placeholder="Type your notes here..."></textarea>
  </div>
</div>

<div id="phoneNumbersModal" class="modal">
  <div class="modal-content">
    <span class="close" onclick="closeModal('phoneNumbersModal')">&times;</span>
    <h2><u>Phone Numbers</u></h2>
    <div class="phone-modal-foreground">
    <strong>General Number:</strong> 801-213-9500</li>
	</div>
	<br>
	<div class="phone-modal-foreground">
    <b>Community Clinics:</b>
    <ul>
      <li>CHC: 801-693-7900</li>
      <li>FHC: 801-213-3200</li>
      <li>GWC: 801-213-9400</li>
      <li>MHC: 801-581-8000</li>
      <li>PWC: 801-234-8600</li>
      <li>RSC: 435-658-9200</li>
      <li>RWC: 801-213-9900</li>
      <li>SJHC: 801-213-4500</li>
      <li>SBC: 435-843-3000</li>
      <li>SHC: 801-581-2000</li>
      <li>WRC: 801-213-9200</li>
    </ul>
	</div>
	<br>
	<div class="phone-modal-foreground">
    <b>Gender Health:</b>
    <ul>
      <li>WH: 801-213-2995</li>
      <li>Men's Health/Uro: 801-213-2700</li>
    </ul>
	</div>
	<br>
	<div class="phone-modal-foreground">
    <b>Moran:</b>
    <ul>
      <li>JMEC: 801-581-2352</li>
      <li>Midvalley: 801-585-3937</li>
      <li>Neuro-Ophthalmology: 801-585-6540</li>
    </ul>
	</div>
	<br>
	<div class="phone-modal-foreground">
    <b>Orthopedics:</b>
    <ul>
      <li>SHC Rehab: 801-581-2221</li>
      <li>UOC: 801-587-7109</li>
      <li>UOC PT: 801-587-7005</li>
    </ul>
	</div>
	<br>
	<div class="phone-modal-foreground">
    <b>Specialty:</b>
    <ul>
      <li>CNC Behavioral: 801-585-1212</li>
	  <li>CNC Neurology: 801-585-7575</li>
	  <li>CVC: 801-585-7676</li>
      <li>Echo/Vascular: 801-585-2905</li>
      <li>General Surgery: 801-585-1618</li>
	  <li>Midvalley Derm: 801-581-2955</li>
      <li>Organ Transplant: 801-581-6795</li>
      <li>Plastics: 801-581-7719</li>
      <li>SWC: 801-581-2016</li>
	  <li>UDEC: 801-581-7761</li>
	  <li>UH Clinical Nutrition GI: 801-213-8284</li>
    </ul>
	</div>
	<br>
	<div class="phone-modal-foreground">
    <b>Primary Care:</b>
    <ul>
      <li>UH Peds: 801-581-2205</li>
    </ul>
	</div>
	<br>
	<div class="phone-modal-foreground">
    <b>Miscellaneous:</b>
    <ul>
	  <li>ARUP Clinic: 801-584-5144</li>
	  <li>Covid Hotline: 801-587-0712</li>
	  <li>Dental: 801-587-6453<li>
      <li>GI/ENDO: 801-213-9797</li>
	  <li>NRH Outpatient & Wound Therapy/NRH Social Services: 801-581-2267</li>
	  <li>South Main: 801-587-2525</li>
    </ul>
	</div>
	<br>
	<div class="phone-modal-foreground">
	<div id="interpreterInstructions">
  <b><u>Interpreter Instructions:</u></b>
  <br>
  <br>
  <b>SPANISH:</b>
  <ol>
    <li>CALL <strong>4-4443</strong></li>
    <li>MOVE TO STEP 2 BELOW - IF PROMPTED</li>
  </ol>
  <b>FOR ALL OTHER LANGUAGES:</b>
  <ol>
    <li>CALL <strong>801-512-0938</strong></li>
    <li>
      STEP 2:
      <ul>
        <li>Press 1 for <b>Spanish</b></li>
        <li>Press 2 for <b>Arabic</b></li>
        <li>Press 3 for <b>Nepali</b></li>
        <li>Press 4 for <b>Somali</b></li>
        <li>Press 5 for <b>Farsi</b></li>
        <li>Press 6 for <b>Vietnamese</b></li>
        <li>Press 7 for <b>Russian</b></li>
        <li>Press 8 for <b>Mandarin</b></li>
        <li>Press 9 for <b>all other languages</b></li>
      </ul>
    </li>
    <li>Provide Dept Code: <strong>10748</strong></li>
    <li>Provide Dept Phone Number: <strong>801-213-4610</strong></li>
  </ol>
</div>
</div>
  </div>
</div>
<script>
document.addEventListener('DOMContentLoaded', () => {
  // Sticky Notes Logic
  const stickyNote = document.getElementById('stickyNote');

  if (stickyNote) {
    const savedNote = localStorage.getItem('stickyNote');
    if (savedNote) {
      stickyNote.value = savedNote;
    }

    stickyNote.addEventListener('input', () => {
      localStorage.setItem('stickyNote', stickyNote.value);
    });
  }

  // To-Do List Logic
  const todoList = document.getElementById('todoList');
  const todoInput = document.querySelector('.todo-input');

  console.log('todoList element:', todoList); // Debugging
  console.log('todoInput element:', todoInput); // Debugging

  if (todoList && todoInput) {
    function saveToDoList() {
      const tasks = Array.from(todoList.children)
        .filter((item) => item.querySelector('.todo-list-item')) // Ignore input field
        .map((item) => {
          const textSpan = item.querySelector('.todo-list-item');
          return {
            text: textSpan ? textSpan.innerText : '',
            completed: item.classList.contains('completed'),
          };
        });
      console.log('Tasks being saved:', tasks); // Debugging
      localStorage.setItem('todoList', JSON.stringify(tasks));
    }

    const savedToDoList = JSON.parse(localStorage.getItem('todoList'));
    if (savedToDoList) {
      savedToDoList.forEach((task) => {
        const listItem = document.createElement('li');
        if (task.completed) {
          listItem.classList.add('completed');
        }
        listItem.innerHTML = `
          <span class="todo-list-item">${task.text}</span>
          <button class="todo-delete">โ</button>
        `;
        todoList.appendChild(listItem);
      });
    }

    todoInput.addEventListener('keypress', (event) => {
      console.log('Keypress detected:', event.key); // Debugging
      if (event.key === 'Enter') {
        const newTaskText = event.target.value.trim();
        console.log('New task text:', newTaskText); // Debugging
        if (!newTaskText) {
          alert('Task cannot be empty.');
          return;
        }
        const listItem = document.createElement('li');
        listItem.innerHTML = `
          <span class="todo-list-item">${newTaskText}</span>
          <button class="todo-delete">โ</button>
        `;
        todoList.appendChild(listItem);
        console.log('Task added to todoList:', listItem); // Debugging
        event.target.value = ''; // Clear the input field
        saveToDoList();
      }
    });

    todoList.addEventListener('click', (event) => {
      if (event.target.classList.contains('todo-delete')) {
        const listItem = event.target.parentElement;
        todoList.removeChild(listItem);
        saveToDoList();
      }
      if (event.target.classList.contains('todo-list-item')) {
        event.target.classList.toggle('completed');
        saveToDoList();
      }
    });
  }
});

// Modal Logic
function trapFocus(modal) {
  const focusableElements = modal.querySelectorAll(
    'button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'
  );
  const firstFocusable = focusableElements[0];
  const lastFocusable = focusableElements[focusableElements.length - 1];

  modal.addEventListener('keydown', (e) => {
    if (e.key === 'Tab') {
      if (e.shiftKey) {
        // Shift + Tab
        if (document.activeElement === firstFocusable) {
          e.preventDefault();
          lastFocusable.focus();
        }
      } else {
        // Tab
        if (document.activeElement === lastFocusable) {
          e.preventDefault();
          firstFocusable.focus();
        }
      }
    }
  });
}

function openModal(modalId, color) {
  const modal = document.getElementById(modalId);
  if (!modal) return;

  const modalContent = modal.querySelector('.modal-content');
  if (modalContent) {
    modal.style.display = 'block';
    modal.setAttribute('aria-hidden', 'false');
    modalContent.style.backgroundColor = color;
    modalContent.style.animation = 'slide-in 0.5s forwards';

    trapFocus(modal); // Trap focus in the modal

    // Save the last focused element
    modal.dataset.lastFocused = document.activeElement;
    setTimeout(() => {
      const focusable = modal.querySelector('button, input, textarea');
      if (focusable) focusable.focus();
    }, 0);
  }
}

function closeModal(modalId) {
  const modal = document.getElementById(modalId);
  if (!modal) return;

  const modalContent = modal.querySelector('.modal-content');
  if (modalContent) {
    modalContent.style.animation = 'slide-out 0.5s forwards';
    setTimeout(() => {
      modal.style.display = 'none';
      modal.setAttribute('aria-hidden', 'true');

      // Restore focus to the last focused element
      const lastFocused = modal.dataset.lastFocused;
      if (lastFocused) lastFocused.focus();
    }, 500);
  }
}
</script>

<br>
<br>
<br>

<div class="squircle-background">

<h1 id="Custom Buttons"> </h1>
<h1>Custom Buttons</h1>

<div class="danger">
โ Clearing your browser's cache will delete all your custom buttons!
</div>
<br>

<form id="addButtonForm">
  <input type="text" id="buttonText" placeholder="Button Label (optional)">
  <textarea id="buttonContent" placeholder="Button Content" ></textarea>
  
  <div>
<b>Color:</b>
    <select id="colorDropdown" required>
      <option value="DodgerBlue">Dodger Blue (Default)</option>
      <option value="red">Red</option>
      <option value="orange">Orange</option>
      <option value="yellow">Yellow</option>
      <option value="green">Green</option>
      <option value="blue">Blue</option>
      <option value="purple">Purple</option>
      <option value="gray">Gray</option>
      <option value="chartreuse">Chartreuse</option>
      <option value="cornflowerblue">CornflowerBlue</option>
      <option value="goldenrod">GoldenRod</option>
      <option value="orchid">Orchid</option>
      <option value="salmon">Salmon</option>
    </select>
  </div>

  <br><button type="submit"><b><span class="material-symbols-outlined">check</span> Add Button</b></button></br>
</form>

<br>

<div id="buttonsContainer"></div>

<script>
  document.addEventListener('DOMContentLoaded', loadButtons);

  document.getElementById('addButtonForm').addEventListener('submit', function (event) {
    event.preventDefault();
    const buttonText = document.getElementById('buttonText').value.trim();
    const buttonContent = document.getElementById('buttonContent').value.trim();
    const buttonColor = document.getElementById('colorDropdown').value;

    if (!buttonContent) {
      alert('Button content is required!');
      return;
    }

    if (!buttonColor) {
      alert('Please select a color!');
      return;
    }

    const buttonLabel = buttonText || buttonContent.slice(0, 50);
    createButton(buttonLabel, buttonContent, buttonColor);
    saveButtonToStorage(buttonLabel, buttonContent, buttonColor);

    this.reset();
  });

  function createButton(label, content, color) {
    const container = document.getElementById('buttonsContainer');

    const buttonContainer = document.createElement('div');
    buttonContainer.className = 'button-container';
    buttonContainer.draggable = true;
    buttonContainer.dataset.label = label;

    const copyButton = document.createElement('div');
    copyButton.className = 'copy-box';
    copyButton.textContent = label;
    copyButton.style.backgroundColor = color;
    copyButton.onclick = () => copyText(content);

    const editButton = document.createElement('button');
    editButton.className = 'edit-button';
    editButton.textContent = 'โ๏ธ';
    editButton.onclick = (e) => {
      e.stopPropagation();
      editButtonContent(label);
    };

    const deleteButton = document.createElement('button');
    deleteButton.className = 'delete-button';
    deleteButton.textContent = 'โ';
    deleteButton.onclick = (e) => {
      e.stopPropagation();
      deleteButtonFromStorage(label);
      container.removeChild(buttonContainer);
    };

    buttonContainer.appendChild(copyButton);
    buttonContainer.appendChild(editButton);
    buttonContainer.appendChild(deleteButton);

    buttonContainer.addEventListener('dragstart', dragStart);
    buttonContainer.addEventListener('dragover', dragOver);
    buttonContainer.addEventListener('drop', drop);

    container.appendChild(buttonContainer);
  }

  function copyText(text) {
    navigator.clipboard.writeText(text).then(() => {
      alert(`Copied: ${text}`);
    });
  }

  function saveButtonToStorage(label, content, color) {
    const savedButtons = JSON.parse(localStorage.getItem('buttons')) || [];
    savedButtons.push({ label, content, color });
    localStorage.setItem('buttons', JSON.stringify(savedButtons));
  }

  function deleteButtonFromStorage(labelToDelete) {
    let savedButtons = JSON.parse(localStorage.getItem('buttons')) || [];
    savedButtons = savedButtons.filter(button => button.label !== labelToDelete);
    localStorage.setItem('buttons', JSON.stringify(savedButtons));
  }

function editButtonContent(label) {
  const savedButtons = JSON.parse(localStorage.getItem('buttons')) || [];
  const button = savedButtons.find(button => button.label === label);
  if (button) {
    const editContainer = document.createElement('div');
    editContainer.className = 'edit-container';

    const labelLabel = document.createElement('label');
    labelLabel.textContent = '๐ท๏ธ Button Label:';
    labelLabel.style.fontWeight = 'bold';
    const labelInput = document.createElement('input');
    labelInput.type = 'text';
    labelInput.value = button.label;
    labelInput.placeholder = 'Button Label';
    labelInput.style.width = '100%';

    const contentLabel = document.createElement('label');
    contentLabel.textContent = '๐ฌ Button Content:';
    contentLabel.style.fontWeight = 'bold';
    const textArea = document.createElement('textarea');
    textArea.value = button.content;
    textArea.rows = 5;
    textArea.style.width = '100%';

    const colorLabel = document.createElement('label');
    colorLabel.textContent = '๐จ Button Color (optional):';
    colorLabel.style.fontWeight = 'bold';
    const colorInput = document.createElement('input');
    colorInput.type = 'text';
    colorInput.value = button.color;
    colorInput.placeholder = 'Enter a valid color (optional)';

    const saveButton = document.createElement('button');
    saveButton.textContent = 'โ Save';
    saveButton.style.marginRight = '10px'; // Adds spacing between buttons
    saveButton.onclick = () => {
      button.label = labelInput.value.trim() || button.content.slice(0, 50);

      button.content = textArea.value;

      const newColor = colorInput.value.trim();
      if (newColor && newColor.toLowerCase() !== 'undefined') {
        const tempElement = document.createElement('div');
        tempElement.style.color = newColor;
        if (tempElement.style.color) {
          button.color = newColor;
        } else {
          alert('Invalid color. Please enter a valid color name.');
          return;
        }
      }

      localStorage.setItem('buttons', JSON.stringify(savedButtons));
      document.body.removeChild(editContainer);
      location.reload();
    };

    const cancelButton = document.createElement('button');
    cancelButton.textContent = 'โ Cancel';

    cancelButton.onclick = () => {
      document.body.removeChild(editContainer);
    };

    const buttonContainer = document.createElement('div');
    buttonContainer.style.display = 'flex';
    buttonContainer.style.justifyContent = 'flex-end';
    buttonContainer.style.marginTop = '10px';
    buttonContainer.appendChild(saveButton);
    buttonContainer.appendChild(cancelButton);

    editContainer.appendChild(labelLabel);
    editContainer.appendChild(labelInput);
    editContainer.appendChild(contentLabel);
    editContainer.appendChild(textArea);
    editContainer.appendChild(colorLabel);
    editContainer.appendChild(colorInput);
    editContainer.appendChild(buttonContainer);

    editContainer.style.position = 'fixed';
    editContainer.style.top = '50%';
    editContainer.style.left = '50%';
    editContainer.style.transform = 'translate(-50%, -50%)';
    editContainer.style.backgroundColor = 'lightyellow';
    editContainer.style.padding = '20px';
    editContainer.style.boxShadow = '0 4px 8px rgba(0, 0, 0, 0.2)';
    editContainer.style.zIndex = 1000;

    document.body.appendChild(editContainer);
  }
}

  function loadButtons() {
    const savedButtons = JSON.parse(localStorage.getItem('buttons')) || [];
    savedButtons.forEach(button => createButton(button.label, button.content, button.color));
  }

  let draggedItem = null;

  function dragStart(event) {
    draggedItem = event.target;
    event.dataTransfer.effectAllowed = "move";
    setTimeout(() => (event.target.style.opacity = "0.5"), 0);
  }

  function dragOver(event) {
    event.preventDefault();
    event.dataTransfer.dropEffect = "move";
    const container = document.getElementById('buttonsContainer');
    const children = Array.from(container.children);

    const draggingOverElement = children.find(el => el !== draggedItem && event.clientY < el.getBoundingClientRect().bottom);
    if (draggingOverElement) {
      container.insertBefore(draggedItem, draggingOverElement);
    } else {
      container.appendChild(draggedItem);
    }
  }

  function drop(event) {
    event.preventDefault();
    draggedItem.style.opacity = "1";
    saveNewOrder();
  }

  function saveNewOrder() {
    const container = document.getElementById('buttonsContainer');
    const newOrder = Array.from(container.children).map(child => ({
      label: child.dataset.label,
      content: JSON.parse(localStorage.getItem('buttons')).find(b => b.label === child.dataset.label).content,
      color: JSON.parse(localStorage.getItem('buttons')).find(b => b.label === child.dataset.label).color
    }));
    localStorage.setItem('buttons', JSON.stringify(newOrder));
  }
</script>

</div>
<br>

<div class="squircle-background">

<h1>Initiatives:</h1>

<h2 id="PT Wait List">PT Wait List</h2>
<div class="info">
โน๏ธ<i><b> See Also: SMS: </b><a href="#SMS PT Wait List">PT Wait List</a></i>
</div>
<div class="squircle-foreground">
<h3>SMS Offer Builder:</h3>

<form id="messageForm">
    <div class="form-group">
      <label for="patientName">1. Patient Name:</label>
      <input type="text" id="patientName" style="max-width: 75px;">
    </div>
    <div class="form-group">
      <label for="existingDate">2. Existing Date:</label>
      <input type="date" id="existingDate">
    </div>
    <div class="form-group">
      <label for="existingTime">3. Existing Time:</label>
      <input type="time" id="existingTime">
    </div>
    <div class="form-group">
      <label for="existingProviderName">4. Provider Name:</label>
      <select id="existingProviderName">
        <option value="">-- Select Provider --</option>
ยยยยยยยยยยย <option value="Beadles, OT, Sydney">Beadles, Sydney</option>
ยยยยยยยยยยย <option value="Beck, OT, Lauren">Beck, Lauren</option>
ยยยยยยยยยยย <option value="Bennion, PT, David">Bennion, David</option>
ยยยยยยยยยยย <option value="Berke, PT, Matthew">Berke, Matthew</option>
ยยยยยยยยยยย <option value="Bildsten, SLP, Sarah">Bildsten, Sarah</option>
ยยยยยยยยยยย <option value="Birely, PT, Alex">Birely, Alex</option>
ยยยยยยยยยยย <option value="Black-Bain, DPT, Kristen">Black-Bain, Kristen</option>
ยยยยยยยยยยย <option value="Boynton, PT, McKail">Boynton, McKail</option>
ยยยยยยยยยยย <option value="Brown, OT, Tanita">Brown, Tanita</option>
ยยยยยยยยยยย <option value="Call, DPT, Christopher">Call, Christopher</option>
ยยยยยยยยยยย <option value="Corwin, PT, Andrea">Corwin, Andrea</option>
ยยยยยยยยยยย <option value="Covey, PT, Conner">Covey, Conner</option>
ยยยยยยยยยยย <option value="Culp, PT, Megan">Culp, Megan</option>
ยยยยยยยยยยย <option value="Erickson, SLP, Olivia">Erickson, Olivia</option>
ยยยยยยยยยยย <option value="Ferguson, DPT, Natalie">Ferguson, Natalie</option>ย
ยยยยยยยยยยย <option value="Gifford, SLP, Taylor">Gifford, Taylor</option>ย
ยยยยยยยยยยย <option value="Goettsche, PTA, Hallie">Goettsche, Hallie</option>
ยยยยยยยยยยย <option value="Graddy, PT, Emma">Graddy, Emma</option>
ยยยยยยยยยยย <option value="Hernandez, DPT, Kristina">Hernandez, Kristina</option>
ยยยยยยยยยยยย<option value="Herzog, DPT, Philip">Herzog, Philip</option>
ยยยยยยยยยยยย<option value="Holmes, OT, Vanessa">Holmes, Vanessa</option>
ยยยยยยยยยยย <option value="Hudson, PT, Bradley">Hudson, Bradley</option>ยยยยยยยยยยย 
ยยยยยยยยยยย <option value="James, PT, Daniel">James, Daniel</option>
ยยยยยยยยยยย <option value="Jensen, SLP, Brayden">Jensen, SLP, Brayden</option>
ยยยยยยยยยยย <option value="Jamieson, SLP, Amy">Jamieson, Amy</option>
ยยยยยยยยยยย <option value="Junk, PT, Elizabeth">Junk, Elizabeth</option>ยยยยยยยยยยย 
ยยยยยยยยยยย <option value="Khong, DPT, Taryn">Khong, Taryn</option>
ยยยยยยยยย ยย<option value="Kielgas, DPT, Brady">Kielgas, Brady</option>ย
ยยยยยยยยย ยย<option value="Krypel, PT, Karoleena">Krypel, Karoleena</option>ย
ยยยยยยยยยยย <option value="Lunn, PT, Rebecca">Lunn, Rebecca</option>
ยยยยยยยยยยย <option value="Lyman, DPT, Brooke">Lyman, Brooke</option>
ยยยยยยยยยยย <option value="McCreedy, PT, Mary">McCreedy, Mary</option>ย
ยยยยยยยยยยย <option value="Miller, DPT, Jason">Miller, Jason</option>
ยยยยยยยยยยย <option value="Moyer, DPT, Cara">Moyer, Cara</option>
ยยยยยยยยยยย <option value="Muhn, PT, Peter">Muhn, Peter</option>
ยยยยยยยยยยย <option value="Mullen, DPT, Christina">Mullen, Christina</option>
ยยยยยยยยยยย <option value="Nixon, OT, Neesha">Nixon, Neesha</option>
ยยยยยยยยยยย <option value="O'Neil, DPT, Jacqueline">O'Neil, Jacqueline</option>
ยยยยยยยยยยย <option value="Pohlman, OT, Brooke">Pohlman, Brooke</option>
ยยยยยยยยยยย <option value="Powers, DPT, Clayton">Powers, Clayton</option>ยยยยยยยยยยย 
ยยยยยยยยยยย <option value="Ratliff, PT, Anna">Ratliff, Anna</option>ยยยยยยยยยยย 
ยยยยยยยยยยย <option value="Reich, DPT, Todd">Reich, Todd</option>ย
ยยยยยยยยยย  <option value="Reierson, PT, Karl">Reierson, Karl</option>
ยยยยยยยยยยย <option value="Rodgers, OT, Claire">Rodgers, Claire</option>
ยยยยยยยยยยย <option value="Romero, PT, Julian">Romero, Julian</option>ย
ยยยยยยยยยยย <option value="Salais Duarte, PT, Luis">Salais Duarte, Luis</option>ย
ยยยยยยยยยยย <option value="Sauter, PT, Kendall">Sauter, Kendall</option>ยยยยยยยยยยย 
ยยยยยยยยยยย <option value="Savarise, DPT, Yvonne">Savarise, Yvonne</option>
ยยยยยยยยยยยย<option value="Schweitzer, SLP, Lisa">Schweitzer, Lisa</option>
ยยยยยยยยยยยย<option value="Schweitzer-Harper, SLP, Taylor">Schweitzer-Harper, Taylor</option>
ยยยยยยยยยย ย<option value="Shepherd, DPT, Collin">Shepherd, Collin</option>ย
ยยยยยยยยยยย <option value="Sinner, DPT, Ryan">Sinner, Ryan</option>ย
ยยยยยยยยยยย <option value="Stanislaw, PT, Abigail">Stanislaw, Abigail</option>ย
ยยยยยยยยยยย <option value="Stevenson, PTA, Natali">Stevenson, Natali</option>ยยยยยยยยยยย 
ยยยยยยยยยยย <option value="Sharpe, PT, Channing">Sharpe, Channing</option>ยยยยยยยยยยย 
ยยยยยยยยยยย <option value="Taylor, PT, Imani">Taylor, Imani</option>
ยยยยยยยยยยย <option value="Thompson, DPT, Spencer">Thompson, Spencer</option>
ยยยยยยยยยยย <option value="Tucker, DPT, Kara">Tucker, Kara</option>
ยยยยยยยยยยย <option value="Walburn, PT, Monica">Walburn, Monica</option>
      </select>
    </div>
<div class="form-group">
  <label for="newProviderName">5. New Provider Name:</label>
  <select id="newProviderName">
          <option value="">-- Select Provider --</option>
ยยยยยยยยยยย <option value="Beadles, OT, Sydney">Beadles, Sydney</option>
ยยยยยยยยยยย <option value="Beck, OT, Lauren">Beck, Lauren</option>
ยยยยยยยยยยย <option value="Bennion, PT, David">Bennion, David</option>
ยยยยยยยยยยย <option value="Berke, PT, Matthew">Berke, Matthew</option>
ยยยยยยยยยยย <option value="Bildsten, SLP, Sarah">Bildsten, Sarah</option>
ยยยยยยยยยยย <option value="Birely, PT, Alex">Birely, Alex</option>
ยยยยยยยยยยย <option value="Black-Bain, DPT, Kristen">Black-Bain, Kristen</option>
ยยยยยยยยยยย <option value="Boynton, PT, McKail">Boynton, McKail</option>
ยยยยยยยยยยย <option value="Brown, OT, Tanita">Brown, Tanita</option>
ยยยยยยยยยยย <option value="Call, DPT, Christopher">Call, Christopher</option>
ยยยยยยยยยยย <option value="Corwin, PT, Andrea">Corwin, Andrea</option>
ยยยยยยยยยยย <option value="Covey, PT, Conner">Covey, Conner</option>
ยยยยยยยยยยย <option value="Culp, PT, Megan">Culp, Megan</option>
ยยยยยยยยยยย <option value="Erickson, SLP, Olivia">Erickson, Olivia</option>
ยยยยยยยยยยย <option value="Ferguson, DPT, Natalie">Ferguson, Natalie</option>ย
ยยยยยยยยยยย <option value="Gifford, SLP, Taylor">Gifford, Taylor</option>ย
ยยยยยยยยยยย <option value="Goettsche, PTA, Hallie">Goettsche, Hallie</option>
ยยยยยยยยยยย <option value="Graddy, PT, Emma">Graddy, Emma</option>
ยยยยยยยยยยย <option value="Hernandez, DPT, Kristina">Hernandez, Kristina</option>
ยยยยยยยยยยยย<option value="Herzog, DPT, Philip">Herzog, Philip</option>
ยยยยยยยยยยยย<option value="Holmes, OT, Vanessa">Holmes, Vanessa</option>
ยยยยยยยยยยย <option value="Hudson, PT, Bradley">Hudson, Bradley</option>ยยยยยยยยยยย 
ยยยยยยยยยยย <option value="James, PT, Daniel">James, Daniel</option>
ยยยยยยยยยยย <option value="Jensen, SLP, Brayden">Jensen, SLP, Brayden</option>
ยยยยยยยยยยย <option value="Jamieson, SLP, Amy">Jamieson, Amy</option>
ยยยยยยยยยยย <option value="Junk, PT, Elizabeth">Junk, Elizabeth</option>ยยยยยยยยยยย 
ยยยยยยยยยยย <option value="Khong, DPT, Taryn">Khong, Taryn</option>
ยยยยยยยยย ยย<option value="Kielgas, DPT, Brady">Kielgas, Brady</option>ย
ยยยยยยยยย ยย<option value="Krypel, PT, Karoleena">Krypel, Karoleena</option>ย
ยยยยยยยยยยย <option value="Lunn, PT, Rebecca">Lunn, Rebecca</option>
ยยยยยยยยยยย <option value="Lyman, DPT, Brooke">Lyman, Brooke</option>
ยยยยยยยยยยย <option value="McCreedy, PT, Mary">McCreedy, Mary</option>ย
ยยยยยยยยยยย <option value="Miller, DPT, Jason">Miller, Jason</option>
ยยยยยยยยยยย <option value="Moyer, DPT, Cara">Moyer, Cara</option>
ยยยยยยยยยยย <option value="Muhn, PT, Peter">Muhn, Peter</option>
ยยยยยยยยยยย <option value="Mullen, DPT, Christina">Mullen, Christina</option>
ยยยยยยยยยยย <option value="Nixon, OT, Neesha">Nixon, Neesha</option>
ยยยยยยยยยยย <option value="O'Neil, DPT, Jacqueline">O'Neil, Jacqueline</option>
ยยยยยยยยยยย <option value="Pohlman, OT, Brooke">Pohlman, Brooke</option>
ยยยยยยยยยยย <option value="Powers, DPT, Clayton">Powers, Clayton</option>ยยยยยยยยยยย 
ยยยยยยยยยยย <option value="Ratliff, PT, Anna">Ratliff, Anna</option>ยยยยยยยยยยย 
ยยยยยยยยยยย <option value="Reich, DPT, Todd">Reich, Todd</option>ย
ยยยยยยยยยย  <option value="Reierson, PT, Karl">Reierson, Karl</option>
ยยยยยยยยยยย <option value="Rodgers, OT, Claire">Rodgers, Claire</option>
ยยยยยยยยยยย <option value="Romero, PT, Julian">Romero, Julian</option>ย
ยยยยยยยยยยย <option value="Salais Duarte, PT, Luis">Salais Duarte, Luis</option>ย
ยยยยยยยยยยย <option value="Sauter, PT, Kendall">Sauter, Kendall</option>ยยยยยยยยยยย 
ยยยยยยยยยยย <option value="Savarise, DPT, Yvonne">Savarise, Yvonne</option>
ยยยยยยยยยยยย<option value="Schweitzer, SLP, Lisa">Schweitzer, Lisa</option>
ยยยยยยยยยยยย<option value="Schweitzer-Harper, SLP, Taylor">Schweitzer-Harper, Taylor</option>
ยยยยยยยยยย ย<option value="Shepherd, DPT, Collin">Shepherd, Collin</option>ย
ยยยยยยยยยยย <option value="Sinner, DPT, Ryan">Sinner, Ryan</option>ย
ยยยยยยยยยยย <option value="Stanislaw, PT, Abigail">Stanislaw, Abigail</option>ย
ยยยยยยยยยยย <option value="Stevenson, PTA, Natali">Stevenson, Natali</option>ยยยยยยยยยยย 
ยยยยยยยยยยย <option value="Sharpe, PT, Channing">Sharpe, Channing</option>ยยยยยยยยยยย 
ยยยยยยยยยยย <option value="Taylor, PT, Imani">Taylor, Imani</option>
ยยยยยยยยยยย <option value="Thompson, DPT, Spencer">Thompson, Spencer</option>
ยยยยยยยยยยย <option value="Tucker, DPT, Kara">Tucker, Kara</option>
ยยยยยยยยยยย <option value="Walburn, PT, Monica">Walburn, Monica</option>
  </select>
</div> 
    <div class="form-group">
      <label for="newDate">6. New Date:</label>
      <input type="date" id="newDate">
      <button type="button" id="setTodayButton">Today</button>
    </div>
    <div class="form-group">
      <label for="newTime">7. New Time:</label>
      <input type="time" id="newTime">
    </div>
  </form>

<label>8. SMS Format:</label>
<br>
  <button onclick="generateOriginal()">Reschedule</button>
  <button onclick="generateAltEnglish()">Additional Visit</button>
  <br>
  <button onclick="generateSpanishEarlier()">Reschedule (Spanish)</button>
  <button onclick="generateSpanishAdditional()">Additional Visit (Spanish)</button>
<br>

<label>9. Click to Copy:</label>
<br>
  <div class="copy-box" id="copyBox">
Please fill out above form to generate the SMS you will send to the patient.
  </div>
  <label>10. Add to CRM</label>
<br>
<div class="copy-box" id="summaryBox">
  for [NEW DATE] at [NEW TIME] with [PROVIDER]
</div>
</div>
<!--PT WL Initiative Script-->
 <script>
document.addEventListener('DOMContentLoaded', () => {
  // Function to get today's date in YYYY-MM-DD format
  const getTodayDate = () => {
    const today = new Date();
    const year = today.getFullYear();
    const month = String(today.getMonth() + 1).padStart(2, '0'); // Months are 0-based
    const day = String(today.getDate()).padStart(2, '0');
    return `${year}-${month}-${day}`;
  };

  // Add event listener to the "Today" button
  document.getElementById('setTodayButton').addEventListener('click', () => {
    const todayDate = getTodayDate();
    document.getElementById('newDate').value = todayDate;
    console.log(`Set New Date to: ${todayDate}`); // Debugging log
    // Trigger any updates tied to the "New Date" field
    document.getElementById('newDate').dispatchEvent(new Event('input'));
  });

  // Helper function to format dates
  const formatDate = (inputDate) => {
    if (!inputDate) return '[NEW DATE]';
    const [year, month, day] = inputDate.split('-');
    return `${month}/${day}`;
  };

  // Helper function to format times
  const formatTime = (inputTime) => {
    if (!inputTime) return '[NEW TIME]';
    let [hour, minute] = inputTime.split(':');
    hour = parseInt(hour, 10);
    const ampm = hour >= 12 ? 'PM' : 'AM';
    hour = hour % 12 || 12;
    return `${hour}:${minute} ${ampm}`;
  };

  // Function to get form field values
  const getFields = () => {
    const existingProviderRaw = document.getElementById('existingProviderName').value || '[EXISTING PROVIDER NAME]';
    const newProviderRaw = document.getElementById('newProviderName').value;

    const formatProviderName = (providerRaw) => {
      if (providerRaw && providerRaw.includes(',')) {
        const parts = providerRaw.split(',').map(part => part.trim());
        if (parts.length === 3) {
          const [last, credential, first] = parts;
          return `${first} ${last}, ${credential}`;
        } else if (parts.length === 2) {
          const [last, first] = parts;
          return `${first} ${last}`;
        } else {
          return providerRaw; // fallback
        }
      } else if (providerRaw) {
        return providerRaw;
      }
      return ''; // Return an empty string if no provider is selected
    };

    return {
      patientName: document.getElementById('patientName').value || '[PATIENT NAME]',
      existingDate: formatDate(document.getElementById('existingDate').value) || '[EXISTING DATE]',
      existingTime: formatTime(document.getElementById('existingTime').value) || '[EXISTING TIME]',
      existingProviderName: formatProviderName(existingProviderRaw),
      newDate: formatDate(document.getElementById('newDate').value),
      newTime: formatTime(document.getElementById('newTime').value),
      newProviderName: formatProviderName(newProviderRaw),
    };
  };

  // Function to update the summary box dynamically
  const updateSummaryBox = () => {
    const { newDate, newTime, newProviderName, existingProviderName } = getFields();
    const providerName = newProviderName || existingProviderName; // Default to new provider if selected, otherwise existing provider
    const msg = `for ${newDate} at ${newTime} with ${providerName}`;
    document.getElementById('summaryBox').textContent = msg;
  };

  // Debounce function to limit the frequency of updates
  const debounce = (func, delay) => {
    let timer;
    return (...args) => {
      clearTimeout(timer);
      timer = setTimeout(() => {
        func(...args);
      }, delay);
    };
  };

  // Attach debounced event listeners to form fields
  const debouncedUpdate = debounce(updateSummaryBox, 300);
  ['newDate', 'newTime', 'newProviderName', 'existingProviderName'].forEach(id => {
    document.getElementById(id).addEventListener('input', debouncedUpdate);
  });

  // Add click-to-copy functionality for the summary box
  const summaryBox = document.getElementById('summaryBox');
  summaryBox.addEventListener('click', () => {
    const text = summaryBox.textContent;
    navigator.clipboard.writeText(text).then(() => {
    }).catch(err => {
      console.error('Failed to copy text:', err);
    });
  });

  // SMS generation functions
  const generateOriginal = () => {
    const f = getFields();
    const newProviderText = f.newProviderName ? ` with ${f.newProviderName}` : '';
    const msg = `UofU Health: ${f.patientName}, an earlier visit is available:  
Existing visit: ${f.existingDate} at ${f.existingTime} with ${f.existingProviderName}  
New visit: ${f.newDate} at ${f.newTime}${newProviderText}  
This has been offered to multiple patients. Don't delay. Reply 1 to accept.`;
    document.getElementById('copyBox').textContent = msg;
  };

  const generateAltEnglish = () => {
    const f = getFields();
    const newProviderText = f.newProviderName ? ` with ${f.newProviderName}` : '';
    const msg = `UofU Health: ${f.patientName}, an additional visit is available:  
New visit: ${f.newDate} at ${f.newTime}${newProviderText}  
This has been offered to multiple patients. Don't delay. Reply 1 to accept.`;
    document.getElementById('copyBox').textContent = msg;
  };

  const generateSpanishEarlier = () => {
    const f = getFields();
    const newProviderText = f.newProviderName ? ` con ${f.newProviderName}` : '';
    const msg = `UofU Health: ${f.patientName}, una visita anterior estรก disponible:  
Visita existente: ${f.existingDate} a las ${f.existingTime} con ${f.existingProviderName}  
Nueva visita: ${f.newDate} a las ${f.newTime}${newProviderText}  
Esto se ha ofrecido a varios pacientes. No te demores. Responda 1 para aceptar.`;
    document.getElementById('copyBox').textContent = msg;
  };

  const generateSpanishAdditional = () => {
    const f = getFields();
    const newProviderText = f.newProviderName ? ` con ${f.newProviderName}` : '';
    const msg = `UofU Health: ${f.patientName}, hay una visita adicional disponible:  
Nueva visita: ${f.newDate} a las ${f.newTime}${newProviderText}  
Esto se ha ofrecido a varios pacientes. No te demores. Responda 1 para aceptar.`;
    document.getElementById('copyBox').textContent = msg;
  };

  // Attach event listeners to SMS generation buttons
  document.querySelector('button[onclick="generateOriginal()"]').addEventListener('click', generateOriginal);
  document.querySelector('button[onclick="generateAltEnglish()"]').addEventListener('click', generateAltEnglish);
  document.querySelector('button[onclick="generateSpanishEarlier()"]').addEventListener('click', generateSpanishEarlier);
  document.querySelector('button[onclick="generateSpanishAdditional()"]').addEventListener('click', generateSpanishAdditional);

  // Add click-to-copy functionality for the SMS box
  const copyBox = document.getElementById('copyBox');
  copyBox.addEventListener('click', () => {
    const text = copyBox.textContent;
    navigator.clipboard.writeText(text).catch(err => {
      alert('Failed to copy text: ' + err);
    });
  });
});
</script>


<br>
<div class="squircle-foreground">
<h3>Wait List Message:</h3>

<div class="info">
โน๏ธ Note: To set your UID, go to <a href="#Settings">Settings</a>
</div>

<div class="copy-box" data-message="No availability, [DATE]: [UID]">Wait List Message - No availability</div>
</div>
</div>
   <br>
<div class="squircle-background">
<h1 id="Email">Email</h1>

<div class="squircle-foreground">
<h3>Contacts:</h3>

<div class="copy-box" data-message="Mindee.Miller@hsc.utah.edu">Mindee Miller</div>
<div class="copy-box" data-message="Templates@hsc.utah.edu">Templates Team</div>

</div>
</div>

<br>
<div class="squircle-background">

<h1>SMS</h1>
<div class="webtext">
๐ฌ Set WebText tool to UHealth General Number: 801-213-9500
</div>

<div class="danger">
โText Messages to patients should NEVER include emojis, abbreviated phrasing, slang to derogatory comments. All communication must be to University standard. If none of the below responses fit for the interaction you're having, please consult Kim or Mindee before responding.
</div>

<br>


<div class="squircle-foreground">
<h3 id="Bump Text SMS Messages"><b>Bump Text SMS Messages:</b></h3>

<div class="copy-box" data-message="UofU Health: Your appt on @ needs to be rescheduled. We apologize for any inconvenience. Please call U of U Health 801-213-9500 to reschedule.">Future Manual Bump</div>
<div class="copy-box" data-message="UofU Health: Es necesario reprogramar su cita del @. Nos disculpamos por la inconveniencia. Por favor llame a U of U Health al 801-213-9500 para reprogramarla.">Future Manual Bump (Spanish)</div>
<div class="copy-box" data-message="UofU Health: (Name) your appt on (Date) has been canceled. Please contact us at 801-213-9500 to reschedule . We apologize for this inconvenience.">Canceled Appointment</div>
<div class="copy-box" data-message="UofU Health: (Name) la cita del (date) se cancelรณ. Llรกmenos al 801-213-9500 para reprogramarla. Discรบlpenos por la inconveniencia.">Canceled Appointment (Spanish)</div>
<div class="copy-box" data-message="UofU Health: Your appt on @ has been cancelled and needs to be rescheduled. We apologize for any inconvenience. Please use the Mychart scheduling ticket we have sent you or call us at 801-213-9500 to reschedule.">Same day & Short Notice Bump (under 4 days)</div>
<div class="copy-box" data-message="UofU Health: Su cita en @ ha sido cancelada y necesita ser reprogramada. Pedimos disculpas por cualquier inconveniente. Utilice el boleto de programaciรณn de Mychart que le hemos enviado o llรกmenos al 801-213-9500 para reprogramar">Same day & Short Notice Bump (under 4 days) (Spanish)</div>
</div>
<br>
<div class="squircle-foreground">
<h3 id="Virtual Visit Change Texts"><b>Virtual Visit Change Texts:</b></h3>

<div class="copy-box" data-message="UofU Health: Your appt today @ Time has changed to a video visit. Log onto MyChart.med.utah.edu for your appt. To reschedule, call 801-213-9500">MyChart Active (Appt Today)</div>
<div class="copy-box" data-message="UofU Health: Su cita de hoy @ Time ha cambiado a una visita por video. Inicie sesiรณn en MyChart.med.utah.edu para su cita. Para reprogramar, llame al 801-213-9500">MyChart Active (Appt Today) (Spanish)</div>
<div class="copy-box" data-message="UofU Health: Your appt on Date @ Time has changed to a video visit. Log onto MyChart.med.utah.edu for your appt. To reschedule, call 801-213-9500">MyChart Active ย(Future Appt)</div>
<div class="copy-box" data-message="UofU Health: Su cita en Fecha @ Hora ha cambiado a una visita por video. Inicie sesiรณn en MyChart.med.utah.edu para su cita. Para reprogramar, llame al 801-213-9500">MyChart Active ย(Future Appt) (Spanish)</div>
<div class="copy-box" data-message="UofU Health: Your appt today @ Time has changed to a video visit. You will receive a video link prior to your appt. To reschedule: 801-213-9500">Non-MyChart Active (Appt Today)</div>
<div class="copy-box" data-message="UofU Health: Su cita de hoy @ Time ha cambiado a una visita por video. Recibirรก un enlace de video antes de su cita. Para reprogramar: 801-213-9500">Non-MyChart Active (Appt Today) (Spanish)</div>
<div class="copy-box" data-message="UofU Health: Your appt on Date @ Time has changed to a video visit. You will receive a video link prior to your appt. To reschedule: 801-213-9500">Non-MyChart Active (Future Appt)</div>
<div class="copy-box" data-message="UofU Health: Su cita en Fecha @ Hora ha cambiado a una visita por video. Recibirรก un enlace de video antes de su cita. Para reprogramar: 801-213-9500">Non-MyChart Active (Future Appt) (Spanish)</div>

</div>
<br>
<div class="squircle-foreground">

<h3 id="COVID InPatient Texts"><b>COVID InPatient Texts</b></h3>
<br>

<div class="copy-box" data-message="UofU Health: Attempting to schedule 2nd COVID vaccine, will you be in town anytime from 00/00 - 00/00? If not, contact local health dept for 2nd dose. Thank you!">COVID 2nd Dose Out Of State</div>
<div class="copy-box" data-message="UofU Health:ยPatient Name, 2ndยCOVID vaccines available via MyChart.med.utah.edu, or at vaccines.gov.">No Availability ย- Mychart Active</div>
<div class="copy-box" data-message="UofU Health:ยPatient Name, 2ndยCOVID vaccines available at vaccines.gov.">No Availability ย- Inactive Mychart</div>

</div>
<br>
<div class="squircle-foreground">

<h3 id="RX Texts"><b>RX Texts:</b></h3>
<br>
<div class="webtext">
๐ฌ Set WebText tool to RX Refill: 801-213-5090</br>
</div>

<br><b>Denied:</b></br>

<div class="copy-box" data-message="UofU Health: Your refill request has been denied and requires an office appointment. Please CALL U of U Health to schedule 801-213-5090.">Denied - Office Appt</div>
<div class="copy-box" data-message="UofU Health: Negaron el resurtido que pidiรณ y necesita hacer una cita. Llame U of U Health para programar la cita: 801-213-5090.">Denied - Office Appt (Spanish)</div>
<div class="copy-box" data-message="UofU Health: Your refill request has been denied and requires lab work. Please CALL U of U Health to schedule 801-213-5090.">Denied - Lab</div>
<div class="copy-box" data-message="UofU Health: Negaron el resurtido que pidiรณ y necesita anรกlisis de laboratorio. Llame U of U Health para programar la cita: 801-213-5090.">Denied - Lab (Spanish)</div>

<b>Approved:</b>

<div class="copy-box" data-message="UofU Health: Your refill request has been fulfilled and sent to your preferred pharmacy. Please CALL U of U Health with any questions 801-213-5090.">Approved</div>
<div class="copy-box" data-message="UofU Health: Ya se enviรณ a su farmacia de preferencia el resurtido que pidiรณ. Llame a U of U Health si tiene preguntas: 801-213-5090.">Approved (Spanish)</div>
<div class="copy-box" data-message="UofU Health: Your refill request has been fulfilled, but an office appointment is needed before next time. Please CALL U of U Health to schedule 8012135090.">Approved - Office Appt</div>
<div class="copy-box" data-message="UofU Health: Ya se enviรณ el resurtido que pidiรณ, pero necesita una consulta antes de adquirir mรกs. Llame a U of U Health para programarla: 801-213-5090.">Approved - Office Appt (Spanish)</div>
<div class="copy-box" data-message="UofU Health: Your refill request has been fulfilled, but labs are needed before next time. Please CALL U of U Health to schedule 801-213-5090.">Approved - Lab</div>
<div class="copy-box" data-message="UofU Health: Ya se enviรณ el resurtido que pidiรณ, pero se necesitan anรกlisis de laboratorio antes de adquirir mรกs. Llame a U of U Health para hacรฉrselos: 801-213-5090.">Approved - Lab (Spanish)</div>

<b>Responses:</b>

<div class="copy-box" data-message="Thank You">Thank You</div>
<div class="copy-box" data-message="ยกMuchas gracias!">Thank You (Spanish)</div>
<div class="copy-box" data-message="Thank You. May I call you to schedule this appointment?">Wants to Schedule</div>
<div class="copy-box" data-message="ยกMuchas gracias! ยฟPuedo llamarlo(a) para programar esta cita?">Wants to Schedule (Spanish)</div>
<div class="copy-box" data-message="We apologize for this inconvenience.">Apology</div>
<div class="copy-box" data-message="Discรบlpenos por la inconveniencia.">Apology (Spanish)</div>

</div>
<br>
<div class="squircle-foreground">

<h3 id="Web Scheduled Visit Texts"><b>Web Scheduled Visit Texts</b></h3>

<div class="copy-box" data-message="UofUHealth: (NAME), more information is REQUIRED before your video visit on MM/DD. To continue via text, reply with the patient's last name and zip code. If preferred, you may call us at 801-213-9500 to complete required registration.">Template: WSV Reg - Text 1</div>
<div class="copy-box" data-message="Your response does not match what we have on file for this account. Please ensure that there are no typos and try again.">Demographics don't match</div>

<font color="Green"><b>Adult - MyChart Active</b></font>

<div class="copy-box" data-message="Thank you for verifying your account. I will now ask 3 additional questions to complete registration.ยQuestion 1 of 3: What is the patient's preferred language?">Identity Validated & Question 1</div>
<div class="copy-box" data-message="Question 2 of 3: Is the reason for this visit due to an accident or injury? Reply: YES or NO.">Question 2</div>
<div class="copy-box" data-message="Someone from our team will need to call you to discuss further. Expect a phone call shortly from 801-213-9500. Thank you.">Question 2 - Answer 1 (YES)</div>
<div class="copy-box" data-message="Question 3 of 3: We have communication aides for those with disabilities related to hearing, vision or speech. Is this support needed? Reply: YES or NO.">Question 3</div>
<div class="copy-box" data-message="What type of service will the patient need? Guide/Assistant, Note Taker/Scribe, Qualified Reader, Sign Language Interpreter">Question 3 - Answer 1 (YES)</div>
<div class="copy-box" data-message="Thank you. The video visit is confirmed for MM/YY at APPTTIME. Please contact your insurance to verify coverage for provider and facility. ?'s, call 801-213-9500.ย">Final Message</div>

<font color="Gold"><b>Adult - MyChart InActive</b></font>

<div class="copy-box" data-message="Thank you for verifying your account. A MyChart account is required for this video visit. Can I text you an activation link so you can sign up? Reply: YES or NO">Identity Validated & Question 1</div>
<div class="copy-box" data-message="The MyChart invitation will come from 32359. I will now ask 3 additional questions to complete registration.">MyChart Activation - Answer (YES)</div>
<div class="copy-box" data-message="MyChart is required to complete the video visit. Would you like me to cancel this video visit or call you to schedule an in person visit? Reply CANCEL or CALL">MyChart Activation - Answer (NO)</div>
<div class="copy-box" data-message="The visit on 00/00 has been cancelled. You may call us at 801-213-9500 if you have further questions.">MyChart Activation - Answer (NO) - CANCEL</div>
<div class="copy-box" data-message="Question 1 of 3: What is the patient's preferred language?">Question 1</div>
<div class="copy-box" data-message="Question 2 of 3: Is the reason for this visit due to an accident or injury? Reply: YES or NO.">Question 2</div>
<div class="copy-box" data-message="Someone from our team will need to call you to discuss further. Expect a phone call shortly from 801-213-9500. Thank you.">Question 2 - Answer (YES)</div>
<div class="copy-box" data-message="Question 3 of 3: We have communication aides for those with disabilities related to hearing, vision or speech. Is this support needed? Reply: YES or NO.">Question 3</div>
<div class="copy-box" data-message="What type of service will the patient need? Guide/Assistant, Note Taker/Scribe, Qualified Reader, Sign Language Interpreter">Question 3 - Answer (YES)</div>
<div class="copy-box" data-message="Thank you. The video visit is confirmed for MM/YY at APPTTIME. Please contact your insurance to verify coverage for provider and facility. ?'s, call 801-213-9500.ย">Final Message</div>

<font color="DarkSalmon"><b>Minor - MyChart Active</b></font>

<div class="copy-box" data-message="Thank you. I will now ask you a few questions in order to complete the appt registration. There will be 4 questions total. Question 1 of 4: What is the patient's preferred language?">Identity Validated & Question 1</div>
<div class="copy-box" data-message="Question 2 of 4: Is the reason for this visit due to an accident or injury? Reply: YES or NO.">Question 2</div>
<div class="copy-box" data-message="Someone from our team will need to call you to discuss further. Expect a phone call shortly from 801-213-9500. Thank you.">Question 2 - Answer (YES)</div>
<div class="copy-box" data-message="Question 3 of 4: We have communication aides for those with disabilities related to hearing, vision or speech. Is this support needed? Reply: YES or NO.">Question 3</div>
<div class="copy-box" data-message="What type of service will the patient need? Guide/Assistant, Note Taker/Scribe, Qualified Reader, Sign Language Interpreter">Question 3 - Answer (YES)</div>
<div class="copy-box" data-message="Question 4 of 4: We have (GUARNAME) listed as being financially responsible for the account. Can you confirm their address, employer name and employment status?">Question 4</div>
<div class="copy-box" data-message="Thank you. The video visit is confirmed for MM/YY at APPTTIME. Please contact your insurance to verify coverage for provider and facility. ?'s, call 801-213-9500.">Final Message</div>

<font color="CornflowerBlue"><b>Minor - MyChart InActive</b></font>

<div class="copy-box" data-message="Thank you. A MyChart account is required for this video visit. To activate, please call MyChart support at 801-213-5555. I will now ask you 4 questions in order to complete registration. Question 1 of 4: What is the patient's preferred language?">Identity Validated & MyChart Activation</div>
<div class="copy-box" data-message="Question 2 of 4: Is the reason for this visit due to an accident or injury? Reply: YES or NO.">Question 2</div>
<div class="copy-box" data-message="Someone from our team will need to call you to discuss further. Expect a phone call shortly from 801-213-9500. Thank you.">Question 2 - Answer (YES)</div>
<div class="copy-box" data-message="Question 3 of 4: We have communication aides for those with disabilities related to hearing, vision or speech. Is this support needed? Reply: YES or NO.">Question 3</div>
<div class="copy-box" data-message="What type of service will the patient need? Guide/Assistant, Note Taker/Scribe, Qualified Reader, Sign Language Interpreter">Question 3 - Answer (YES)</div>
<div class="copy-box" data-message="Question 4 of 4: We have (GUARNAME) listed as being financially responsible for the account. Can you confirm their address, employer name and employment status?">Question 4</div>
<div class="copy-box" data-message="Thank you. The video visit is confirmed for MM/YY at APPTTIME. Please contact your insurance to verify coverage for provider and facility. ?'s, call 801-213-9500.">Final Message</div>

<font color="MediumSlateBlue"><b>Return Patient</b></font>

<div class="copy-box" data-message="Thank you for verifying your account. I will now ask additional questions to complete registration.">Introduction</div>
<div class="copy-box" data-message="Is the reason for this visit due to an accident or injury? Reply: YES or NO.">Accident Related</div>
<div class="copy-box" data-message="Someone from our team will need to call you to discuss further. Expect a phone call shortly from 801-213-9500. Thank you.">Accident Related - Answer (YES)</div>
<div class="copy-box" data-message="Thank you. The video visit is confirmed for 00/00 at 0:00 AM/PM. Please verify insurance coverage for provider and facility. For questions, call 801-213-9500.">Final Message</div>

</div>
<br>
<div class="squircle-foreground">

<h3 id="Misc Texts and Responses"><b>Misc Texts and Responses:</b></h3>
<br><b>Misc</b></br>

<div class="copy-box" data-message="UofU Health: I'm sorry to hear this. We recommend downloading the SafeUT app to talk with one of our crisis counselors directly.">SafeUT Resource</div>
<div class="copy-box" data-message="UofU Health: Sentimos mucho escuchar lo que pasรณ. Le recomendamos descargar la aplicaciรณn SafeUT para hablar directamente con nuestros terapeutas especializados en crisis.">SafeUT Resource (Spanish)</div>
<div class="copy-box" data-message="UofU Health: We apologize, weโre unable to opt you out due to refills requiring a response.">Opt Out Text</div>
<div class="copy-box" data-message="UofU Health: Lo sentimos, pero no nos es posible cambiar las notificaciones que recibe para resurtir sus recetas, dado que es necesario que la farmacia reciba una respuesta de usted.">Opt Out Text (Spanish)</div>
<div class="copy-box" data-message="U of U Health: Your appt on @ XXX will be completed @ XXX, due to your providers location change. For ?'s CALL 801-213-9500.">Location Change</div>
<div class="copy-box" data-message="U of Utah Health: Su cita del XX serรก enยENTER HEALTH CENTER HERE,ยya que su proveedor estarรก allรญ. ยฟPreguntas? LLAME al 801-213-9500.">Location Change (Spanish)</div>
<div class="copy-box" data-message="U of U Health: Your appt on XX was moved to XX @ . For ?'s CALL 801-213-9500.">Time Change</div>
<div class="copy-box" data-message="U of U Health: Your appt on XXX ย@ ยwill be completed by a different provider, due to your provider not being available. For ?'s CALL 801-213-9500.">Provider Change</div>
<div class="copy-box" data-message="U of U Health: Su cita el dรญa XX se harรก con otro proveedor, porque su proveedor no estรก disponible. ยฟPreguntas? LLAME al 801-213-9500.">Provider Change (Spanish)</div>
<div class="copy-box" data-message="U of U Health: Your appt on @ will be completed @ XXX, due to your providers location change. For ?'s CALL 801-213-9500.">Permanent Location Change</div>
<div class="copy-box" data-message="U of Utah Health: Su cita del XX serรก enยINSERT HEALTH CENTER HERE, ya que su proveedor se trasladรณ allรญ. ยฟPreguntas? LLAME al 801-213-9500.">Permanent Location Change (Spanish)</div>
<div class="copy-box" data-message="UofU Health: Due to HIPAA regulations we are unable to assist via text message. For assistance please call us at 801-213-9500.">Generic Response</div>
<div class="copy-box" data-message="U of U Health: We have important questions regarding your appointment on Date, please call us back at ______. (dept/service #)">MAT/Covititi</div>

<b>Responses</b>

<div class="copy-box" data-message="Thank You.">Thank You</div>
<div class="copy-box" data-message="ยกMuchas gracias!">Thank You (Spanish)</div>
<div class="copy-box" data-message="CORRECTION UofU Health: Please disregard previous text message. Apologies for the inconvenience">Correction</div>
<div class="copy-box" data-message="Thank You. May I call you to reschedule this appointment?">Wants to Reschedule</div>
<div class="copy-box" data-message="ยกMuchas gracias! ยฟPuedo llamarlo(a) para programar esta cita?">Wants to Reschedule (Spanish)</div>
<div class="copy-box" data-message="We apologize for this inconvenience. The provider is not available at this time. I can call you to reschedule if you'd like?">Apology</div>
<div class="copy-box" data-message="Discรบlpenos por la inconveniencia. Esta ocasiรณn no se encuentra el proveedor. Puedo llamarlo(a) si quiere para reprogramar.">Apology (Spanish)</div>
<div class="copy-box" data-message="To ensure we get all the correct medication information may I call you?">Medication Request</div>
<div class="copy-box" data-message="Para asegurarnos de adquirir la informaciรณn correcta de medicamentos, ยฟpuedo llamarlo(a)?">Medication Request (Spanish)</div>
<div class="copy-box" data-message="(Name) has an appt on (Date) at (Time) at U of U Health (Location).">Confirm other Appt</div>
<div class="copy-box" data-message="(Name) tiene una cita el (Date) a las (Time) en U of U Health (Location).">Confirm other Appt (Spanish)</div>
<div class="copy-box" data-message="UofU Health: Your provider has requested you make an appointment. Please call UofU Health (service line/dept) for more information and to schedule">Provider request appt</div>

</div>
<br>
<div class="squircle-foreground">

<h3 id="SMS PT Wait List"><b>PT Wait List</b></h3>
<div class="info">
โน๏ธ See Also: Initiatives: </b><a href="#PT Wait List">PT Wait List</a>
</div>

<div class="copy-box" data-message="UofU Health: (PT NAME), an earlier visit is available: Existing visit: 00/00 at 00:00 AM/PM PROVIDER NAME New visit: 00/00 at 00:00 AM/PM This has been offered to multiple patients. Don't delay. Reply 1 to accept.">Identity Verification Text (RESCHEDULE Appt)</div>
<div class="copy-box" data-message="UofU Health: (PT NAME), una visita anterior estรก disponible: Visita existente: 00/00 a las 00:00 AM/PM (PROVIDER NAME) Nueva visita: 00/00 a las 00:00 AM/PM Esto se ha ofrecido a varios pacientes. No te demores.  Responda 1 para aceptar.">Identity Verification Text (RESCHEDULE Appt) (Spanish)</div>
<div class="copy-box" data-message="UofU Health: (PT NAME), an additional visit is available: New visit: 00/00 at 00:00 AM/PM PROVIDER NAME This has been offered to multiple patients. Don't delay. Reply 1 to accept.">Identity Verification Text (ADD Appt)</div>
<div class="copy-box" data-message="UofU Health: (PT NAME), hay una visita adicional disponible: Nueva visita: 00/00 a las 00:00 AM/PM (PROVIDER NAME) Esto se ha ofrecido a varios pacientes. No te demores.  Responda 1 para aceptar.">Identity Verification Text (ADD Appt) (Spanish)</div>
<div class="copy-box" data-message="Success! (NAME), your updated visit is now scheduled on 00/00 at 0:00 am/pm. You can find information about your visit in MyChart.">Question 1 - Accept (Reply 1)</div>
<div class="copy-box" data-message="ยกรxito! (NAME), su visita actualizada ahora estรก programada para el 00/00 a las 0:00 AM/PM Puede encontrar informaciรณn sobre su visita en MyChart.">Question 1 - Accept (Reply 1) (Spanish)</div>
<div class="copy-box" data-message="Thank you for letting us know. You'll be notified again if another time becomes available. Your original visit remains available in Mychart.">Pt declines offer</div>
<div class="copy-box" data-message="Gracias por hacรฉrnoslo saber. Se le notificarรก nuevamente si hay otro horario disponible. Su visita original sigue estando disponible en Mychart.">Pt declines offer (Spanish)</div>
<div class="copy-box" data-message="Sorry, this visit is no longer available. You'll be notified again if a new time becomes available.">Response received outside of offer timeframe</div>
<div class="copy-box" data-message="Lo sentimos, esta visita ya no estรก disponible. Se le notificarรก nuevamente si hay una nueva hora disponible.">Response received outside of offer timeframe (Spanish)</div>
<div class="copy-box" data-message="Thank you for letting us know. You won't receive any more offers for this appointment.">Remove from Waitlist</div>
<div class="copy-box" data-message="Gracias por hacรฉrnoslo saber. No recibirรกs mรกs ofertas para esta cita.">Remove from Waitlist (Spanish)</div>

</div>
<br>
<div class="squircle-foreground">

<h3 id="Inpatient Follow Up"><b>Inpatient Follow Up</b></h3>

<div class="copy-box" data-message="UofU Health: (NAME), you need to follow up with your Primary Care provider. Text your last name and zip code to schedule or text CALL to schedule by phone.">Initial Outreach</div>
<div class="copy-box" data-message="UofU Health: (NAME), necesitas realizar un seguimiento con tu proveedor de atenciรณn primaria. Envรญa tu apellido y cรณdigo postal para programar o escribe LLAMADA para hacerlo por telรฉfono.">Initial Outreach (Spanish)</div>
<div class="copy-box" data-message="Thank you. Our team will call you shortly from 801-213-9500.">Response: CALL</div>
<div class="copy-box" data-message="Gracias. Nuestro equipo te llamarรก en breve desde el 801-213-9500.">Response: CALL (Spanish)</div>
<div class="copy-box" data-message="Thank you. To schedule an in office visit, text OFFICE. To schedule a video visit, text VIDEO.">Text 1 - Response: Name & Zip Code</div>
<div class="copy-box" data-message="Gracias. Para programar una cita en la oficina, escribe OFICINA. Para una visita por video, escribe VIDEO.">Text 1 - Response: Name & Zip Code (Spanish)</div>
<div class="copy-box" data-message="A visit is available with (Provider) at (LOC) on 0/0 at 0:00am/pm. Text YES to accept or NO to see other options.">Response: OFFICE</div>
<div class="copy-box" data-message="Hay una cita disponible con (PROVIDER) en (LOCATION) el 0/0 a las 0:00am/pm. Responde Sร para aceptar o NO para ver otras opciones.">Response: OFFICE (Spanish)</div>
<div class="copy-box" data-message="A video visit is available with (PROVIDER) on 0/0 at 0:00am/pm. Text YES to accept or NO to see other options.">Response: VIRTUAL</div>
<div class="copy-box" data-message="Una visita por video estรก disponible con (PROVIDER) el 0/0 a las 0:00am/pm. Responde Sร para aceptar o NO para ver otras opciones.">Response: VIRTUAL (Spanish)</div>
<div class="copy-box" data-message="Your visit is confirmed. Contact your insurance to verify coverage for provider and facility. To cancel, reschedule or for questions, call 801-213-9500. Thank you.">Response (1st offer): YES (Accept)</div>
<div class="copy-box" data-message="Tu cita estรก confirmada. Si necesitas cancelar, reprogramar o tienes preguntas, llama al 801-213-9500. Gracias.">Response (1st offer): YES (Accept) (Spanish)</div>

<b>Response (1st offer): NO (Decline)</b> - Same offer script but offering a different date/time.

<div class="copy-box" data-message="Your visit is confirmed. Contact your insurance to verify coverage for provider and facility. To cancel, reschedule or for questions, call 801-213-9500. Thank you.">Response (2nd offer): YES (Accept)</div>
<div class="copy-box" data-message="Tu cita estรก confirmada. Si necesitas cancelar, reprogramar o tienes preguntas, llama al 801-213-9500. Gracias.">Response (2nd offer): YES (Accept) (Spanish)</div>
<div class="copy-box" data-message="One of our team members will call you to discuss more scheduling options. Expect a call from 801-213-9500 shortly.">Response (2nd offer): NO (Decline)</div>
<div class="copy-box" data-message="Un miembro de nuestro equipo te llamarรก para hablar sobre mรกs opciones de programaciรณn. Espera la llamada desde el 801-213-9500 en breve.">Response (2nd offer): NO (Decline) (Spanish)</div>
<div class="copy-box" data-message="UofU Health: Your visit is scheduled on (date) at (time) at (Location). For details or to reschedule, call 801-213-9500 or login to MyChart. Please verify insurance coverage prior to visit.">If no response from initial outreach</div>
<div class="copy-box" data-message="UofU Health: Su visita estรก programada para el (DATE) a (TIME) en (LOCATION). Para obtener detalles o para reprogramar, llame al 801-213-9500 o inicie sesiรณn en MyChart. Verifique la cobertura del seguro antes de la visita.">If no response from initial outreach (Spanish)</div>

</div>
<br>
<div class="squircle-foreground">

<h3 id="Kidney Non Compliant"><b>Kidney Non Compliant</b></h3>

<div class="copy-box" data-message="UofU Health: (NAME), an appointment has been scheduled for you on 00/00 at 0:00 at (Location). To reschedule or cancel, or if you are receiving care with an external provider, please call 801-581-2634 or log in to MyChart.">In Office</div>
<div class="copy-box" data-message="UofU Health: (NAME), hemos programado una cita para usted el 00/00 a las 0:00 en (LOCATION). Para reprogramar o cancelar, o si estรก recibiendo atenciรณn con un proveedor externo, llame al 801-581-2634 o ingrese a MyChart.">In Office (Spanish)</div>
<div class="copy-box" data-message="UofU Health: (NAME), a video visit has been scheduled for you on 00/00 at 0:00. To reschedule or cancel, or if you are receiving care with an external provider, please call 801-581-2634 or log in to MyChart.">Virtual</div>
<div class="copy-box" data-message="UofU Health: (NAME), hemos programado una visita por video para usted el 00/00 a las 0:00. Para reprogramar o cancelar, o si estรก recibiendo atenciรณn con un proveedor externo, llame al 801-581-2634 o ingrese a MyChart.">Virtual (Spanish)</div>
<div class="copy-box" data-message="UofU Health: (NAME), an appointment has been scheduled for you on 00/00 at 0:00 at (LOCATION). Please complete lab work 1-2 days prior to this visit. To reschedule or cancel, or if you are receiving care with an external provider, please call 801-581-2634 or log in to MyChart.">In Office (Lab Work Required)</div>
<div class="copy-box" data-message="UofU Health: (NAME), se ha programado una cita para usted el 00/00 a las 0:00 en (LOCATION). Complete los anรกlisis de laboratorio 1-2 dรญas antes de esta visita. Para reprogramar o cancelar, o si estรก recibiendo atenciรณn con un proveedor externo, llame al 801-581-2634 o inicie sesiรณn en MyChart.">In Office (Lab Work Required) (Spanish)</div>
<div class="copy-box" data-message="UofU Health: (NAME), a video visit has been scheduled for you on 00/00 at 0:00. Please complete lab work 1-2 days prior to this visit. To reschedule or cancel, or if you are receiving care with an external provider, please call 801-581-2634 or log in to MyChart.">Virtual (Lab Work Required)</div>
<div class="copy-box" data-message="UofU Health: (NAME), se ha programado una visita por video para usted el 00/00 a las 0:00. Complete los anรกlisis de laboratorio 1-2 dรญas antes de esta visita. Para reprogramar o cancelar, o si estรก recibiendo atenciรณn con un proveedor externo, llame al 801-581-2634 o inicie sesiรณn en MyChart.">Virtual (Lab Work Required) (Spanish)</div>

<b>FOLLOW PROCESS BELOW FOR OUT OF STATE PATIENTS ONLY</b>

<div class="copy-box" data-message="UofU Health: (NAME), we are attempting to gather information regarding your compliance status. To continue via text, respond with your last name and zip code. If you prefer, call 801-581-2634.">Initial Outreach</div>
<div class="copy-box" data-message="UofU Health: (NAME), estamos intentando recopilar informaciรณn sobre tu estado de cumplimiento. Para continuar por mensaje de texto, responde con tu apellido y cรณdigo postal. Si prefieres, llama al 801-581-2634.">Initial Outreach (Spanish)</div>
<div class="copy-box" data-message="Thank you. You have not completed required follow up care with our kidney transplant team. Have you received this care outside of UofU Health? Reply: YES or NO">Text 1</div>
<div class="copy-box" data-message="Gracias. No has completado el seguimiento necesario con nuestro equipo de trasplante de riรฑรณn. ยฟRecibiste esta atenciรณn fuera de UofU Health? Responde: Sร o NO.">Text 1 (Spanish)</div>
<div class="copy-box" data-message="Can you please provide the name, address and phone number of the facility where you are receiving care?">Text 1 - (Response: YES)</div>
<div class="copy-box" data-message="ยฟPodrรญas darnos el nombre, direcciรณn y telรฉfono del centro donde estรกs recibiendo atenciรณn?">Text 1 - (Response: YES) (Spanish)</div>
<div class="copy-box" data-message="This information has been shared with your transplant team. We will reach out if further information is needed. Thank you.">Response - Outside Facility</div>
<div class="copy-box" data-message="Esta informaciรณn ya se ha compartido con tu equipo de trasplante. Nos comunicaremos si necesitamos mรกs detalles. Gracias.">Response - Outside Facilityย(Spanish)</div>
<div class="copy-box" data-message="Can I help you schedule a follow up appointment now?">Text 2 - (Text 1 Response: NO)</div>
<div class="copy-box" data-message="ยฟTe ayudo a programar una cita de seguimiento ahora?">Text 2 - (Text 1 Response: NO) (Spanish)</div>
<div class="copy-box" data-message="Your healthcare is important to us. If you decide you would like to schedule, please call 801-581-2634. for assistance.">Response: (NO)</div>
<div class="copy-box" data-message="Tu salud es muy importante para nosotros. Si deseas programar, por favor llama al 801-581-2634 para asistencia">Response: (NO) (Spanish)</div>

</div>
</div>
   <br>
<div class="squircle-background">

<h1 id="Appt Notes">Appt Notes</h1>

<div class="copy-box" data-message="Call 34674 to remove hold">Call 34674 to remove hold</div>
<div class="copy-box" data-message="**CN correcting error**">**CN correcting error**</div>
<div class="copy-box" data-message="*SMS sent re appt cancelation*">*SMS sent re appt cancelation*</div>
<div class="copy-box" data-message="*SMS sent re appt time change*">*SMS sent re appt time change*</div>
<div class="copy-box" data-message="*SMS sent re change to virtual*">*SMS sent re change to virtual*</div>
<div class="copy-box" data-message="*SMS sent re location change*">*SMS sent re location change*</div>
<div class="copy-box" data-message="*SMS sent re provider change*">*SMS sent re provider change*</div>
<div class="copy-box" data-message="*MyChart message sent, If pt not billing Tricare please remove from HAR for this appt, If the patient is billing Tricare advise that an Auth # will be needed for the visit and to contact their VA PCP. If pt has other information regarding their insurance coverage, add it to appt notes. Outbound Team*">MAT/Cotiviti</div>

</div>
<br>
<div class="squircle-background">
<h1>Utilities</h1>
<div class="squircle-foreground">
<h2 id="Sleep Test Follow-up Calculator">Sleep Test Follow-up Calculator</h2>
<br>
<form id="dateRangeForm">
  <label for="sleepTestDate">Date of Patient's Sleep Test:</label>
  <input type="date" id="sleepTestDate" name="sleepTestDate" required>
  <button type="button" onclick="calculateSleepDateRange()">Calculate Date Range</button>
</form>
<div id="sleepResult"></div>

<script>
  function formatSleepDisplayDate(dateObj) {
    const month = dateObj.getMonth() + 1;
    const day = dateObj.getDate();
    const year = dateObj.getFullYear().toString().slice(-2);
    return `${month}/${day}/${year}`;
  }

  function calculateSleepDateRange() {
    const inputDateValue = document.getElementById('sleepTestDate').value;
    if (!inputDateValue) {
      document.getElementById('sleepResult').innerText = 'Please enter a valid date.';
      return;
    }

    const inputDate = new Date(inputDateValue);
    const startRange = new Date(inputDate);
    startRange.setDate(startRange.getDate() + 61);

    const endRange = new Date(inputDate);
    endRange.setDate(endRange.getDate() + 90);

    const startFormatted = formatSleepDisplayDate(startRange);
    const endFormatted = formatSleepDisplayDate(endRange);

    document.getElementById('sleepResult').innerHTML =
      `<br><div class="info">
โน๏ธ Patient should be scheduled between:<br><b>${startFormatted}</b> and <b>${endFormatted}</b>.</div>`;
  }
</script>
</div>
</div>
<br>

<div class="squircle-background">

<h1 id="Settings">Settings</h1>

<div class="squircle-foreground">

<br>
  <form id="uidForm">
    <label for="userUid">Enter Your UID (Please use lowercase u):</label>
    <input type="text" id="userUid" placeholder="UID" required>
    <button type="submit">Save UID</button>
  </form>



  <div style="margin-top: 20px;">
<div class="success">
    <p>โ<b> UID set to: <span id="displayUid"></span></b></p>
  </div>
  </div>

</div>
<br>

<div class="squircle-foreground">

  <div>
    <input type="checkbox" id="previewToggle">
    <label for="previewToggle">Enable button previews on hover <br>(Note: Does not work with Custom Buttons)</label>
  </div>



  <script>
    const uidForm = document.getElementById("uidForm");
    const displayUid = document.getElementById("displayUid");

    uidForm.addEventListener("submit", function(event) {
      event.preventDefault(); // Prevent form from reloading the page
      const uidInput = document.getElementById("userUid").value.trim();

      if (uidInput) {
        localStorage.setItem("userUid", uidInput);
        displayUid.textContent = uidInput;
        alert("UID saved successfully!");
      }
    });

    const storedUid = localStorage.getItem("userUid");
    if (storedUid) {
      displayUid.textContent = storedUid;
    }

    document.querySelectorAll(".copy-box").forEach(button => {
      button.addEventListener("click", function() {
        const now = new Date();

        const month = (now.getMonth() + 1).toString().padStart(2, '0'); // Months are 0-based
        const day = now.getDate().toString().padStart(2, '0');
        const year = now.getFullYear();
        const today = `${month}/${day}/${year}`;

        const time = now.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });

        const uid = localStorage.getItem("userUid") || "[UID not set, please set in Settings section of Outbound Clipboard Manager.]";

        let message = this.dataset.message
          .replace("[DATE]", today)
          .replace("[TIME]", time)
          .replace("[UID]", uid);
        
        navigator.clipboard.writeText(message);
      });
    });

  const previewToggle = document.getElementById("previewToggle");

  window.addEventListener("load", () => {
    const savedState = localStorage.getItem("previewToggleState");
    if (savedState !== null) {
      previewToggle.checked = savedState === "true"; // Restore state
    }
  });

  previewToggle.addEventListener("change", () => {
    localStorage.setItem("previewToggleState", previewToggle.checked);
  });

  document.querySelectorAll(".copy-box").forEach(button => {
    const preview = document.createElement("div");
    preview.className = "preview";
    document.body.appendChild(preview);

    button.addEventListener("mouseover", function(event) {
      if (previewToggle.checked) {
        const message = button.dataset.message;
        preview.textContent = message;
        preview.style.left = `${event.pageX + 10}px`;
        preview.style.top = `${event.pageY + 10}px`;
        preview.style.display = "block";
      }
    });

    button.addEventListener("mousemove", function(event) {
      if (previewToggle.checked) {
        preview.style.left = `${event.pageX + 10}px`;
        preview.style.top = `${event.pageY + 10}px`;
      }
    });

    button.addEventListener("mouseout", function() {
      preview.style.display = "none";
    });
  });
  </script>
</div>
</div>
<br>

<div class="squircle-background">

<h1 id="About">About</h1>

<div class="squircle-foreground">
<b>Outbound Clipboard Manager created and maintained by Joshua Reeve. 
	<br>
	For feedback, suggestions, to report any issues you find, please send me a message in Teams, or email me at <a href="mailto:u0971743@umail.utah.edu">u0971743@umail.utah.edu</a></b>
<br><b>Last updated: 5/7/25</b>

  <script>
    function copyText(text) {
      const tempInput = document.createElement('input');
      tempInput.value = text;
      document.body.appendChild(tempInput);
      tempInput.select();
      tempInput.setSelectionRange(0, 99999);
      document.execCommand('copy');
      document.body.removeChild(tempInput);
    }
  </script>

</div>
</div>

</body>
</html>
